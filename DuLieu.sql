
use QuanLyBanVeXeKhach
go

----------------------------------INSERT DỮ LIỆU----------------------------------
INSERT INTO DiaDiem (TEN_TINH_THANH) VALUES (N'TP. Hồ Chí Minh');
INSERT INTO DiaDiem (TEN_TINH_THANH) VALUES (N'Lâm Đồng');
INSERT INTO DiaDiem (TEN_TINH_THANH) VALUES (N'Đăk Lăk');
go



INSERT INTO TuyenDuong (TEN_TUYEN, DIEM_DAU, DIEM_CUOI, KHOANG_CACH, THOI_GIAN_DI_CHUYEN) 
VALUES (N'TP. Hồ Chí Minh - Lâm Đồng', 1, 2, 280, 7);
INSERT INTO TuyenDuong (TEN_TUYEN, DIEM_DAU, DIEM_CUOI, KHOANG_CACH, THOI_GIAN_DI_CHUYEN) 
VALUES (N'Lâm Đồng - TP. Hồ Chí Minh', 2, 1, 285, 7);
INSERT INTO TuyenDuong (TEN_TUYEN, DIEM_DAU, DIEM_CUOI, KHOANG_CACH, THOI_GIAN_DI_CHUYEN) 
VALUES (N'TP. Hồ Chí Minh - Đăk Lăk', 1, 3, 350, 8);
INSERT INTO TuyenDuong (TEN_TUYEN, DIEM_DAU, DIEM_CUOI, KHOANG_CACH, THOI_GIAN_DI_CHUYEN) 
VALUES (N'Đăk Lăk - TP. Hồ Chí Minh', 3, 1, 350, 8);

go



INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('59A-12345', 20);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('50B-54321', 34);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('81D-11223', 20);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('47C-98765', 34);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('52G-99001', 20);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('59E-44556', 34);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('58F-77889', 34);
INSERT INTO Xe (BIEN_SO_XE, SO_GHE) VALUES ('52H-22334', 34);
go


insert into NHANVIEN values ('abc','1',N'Nguyễn Văn A','0987651234',N'Nam',N'Cà Mau',N'Nhân viên')
insert into NHANVIEN values ('abcd','1',N'Nguyễn Thị B','0987651234',N'Nữ',N'Hà Nội',N'Quản lý')
insert into NHANVIEN values ('abcde','1',N'Nguyễn Văn C','0987651234',N'Nam',N'TP. Hồ Chí Minh',N'Nhân viên')
go



INSERT INTO LichTrinh (MA_LICH_TRINH, ID_TUYEN_DUONG, KHOI_HANH, KET_THUC, GIA_VE, ID_XE) 
VALUES ('LT001', 1, '2024-12-19 18:00:00', null, 280000, 1);
INSERT INTO LichTrinh (MA_LICH_TRINH, ID_TUYEN_DUONG, KHOI_HANH, KET_THUC, GIA_VE, ID_XE) 
VALUES ('LT002', 1, '2024-12-20 12:30:00', null, 280000, 2);

INSERT INTO LichTrinh (MA_LICH_TRINH, ID_TUYEN_DUONG, KHOI_HANH, KET_THUC, GIA_VE, ID_XE) 
VALUES ('LT003', 2, '2024-12-19 19:00:00', null, 280000, 3);
INSERT INTO LichTrinh (MA_LICH_TRINH, ID_TUYEN_DUONG, KHOI_HANH, KET_THUC, GIA_VE, ID_XE) 
VALUES ('LT004', 3, '2024-12-20 12:00:00', null, 350000, 4);
go




INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC001', N'Bến xe Miền Đông', 1);
INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC002', N'Mũi Tàu Trường Trinh', 1);
INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC003', N'Coop Mart Bảo Lộc', 2);
INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC004', N'Bến xe Di Linh', 2);
INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC005', N'Bến xe phía Nam', 3);
INSERT INTO TRAMDUNGCHAN (ID_TramDungChan, TEN_TramDungChan, ID_DIADIEM) 
VALUES ('TDC006', N'Ngã tư Phạm Ngũ Lão', 3);
go

--sp_help 'LichTrinh'


INSERT INTO THEMTRAMDUNGCHAN (ID_TramDungChan, MA_LICH_TRINH) 
VALUES ('TDC001', 'LT001');
INSERT INTO THEMTRAMDUNGCHAN (ID_TramDungChan, MA_LICH_TRINH) 
VALUES ('TDC002', 'LT002');
INSERT INTO THEMTRAMDUNGCHAN (ID_TramDungChan, MA_LICH_TRINH) 
VALUES ('TDC003', 'LT003');


INSERT INTO THEMTRAMDUNGCHAN (ID_TramDungChan, MA_LICH_TRINH) 
VALUES ('TDC004', 'LT001');
INSERT INTO THEMTRAMDUNGCHAN (ID_TramDungChan, MA_LICH_TRINH) 
VALUES ('TDC003', 'LT001');



select * from LichTrinh join THEMTRAMDUNGCHAN on LichTrinh.MA_LICH_TRINH=THEMTRAMDUNGCHAN.MA_LICH_TRINH
where THEMTRAMDUNGCHAN.MA_LICH_TRINH = 'LT001'



--truncate table THEMTRAMDUNGCHAN;


INSERT INTO Ve (ID_VE, TENKHACHHANG, ID_LICH_TRINH, TONG_TIEN, NHAN_VIEN_TAO, TRANG_THAI, SOLUONG, SDT) 
VALUES ('VE001', N'Nguyễn Văn D', 'LT001', 500000, 'abc', N'Đã thanh toán', 3, '0123456789');

INSERT INTO Ve (ID_VE, TENKHACHHANG, ID_LICH_TRINH, TONG_TIEN, NHAN_VIEN_TAO, TRANG_THAI, SOLUONG, SDT) 
VALUES ('VE002', N'Nguyễn Thị E', 'LT002', 300000, 'abcd', N'Chưa thanh toán', 2, '0987654321');

INSERT INTO Ve (ID_VE, TENKHACHHANG, ID_LICH_TRINH, TONG_TIEN, NHAN_VIEN_TAO, TRANG_THAI, SOLUONG, SDT) 
VALUES ('VE003', N'Nguyễn Thị F', 'LT003', 300000, 'abcd', N'Chưa thanh toán', 3, '0912345678');





INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE001', 1);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE001', 4);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE001', 5);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE002', 21);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE002', 22);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE003', 55);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE003', 56);
INSERT INTO ChiTietVe (ID_VE, ID_GHE) VALUES ('VE003', 57);





INSERT INTO THONGKE (MA_LICH_TRINH, SO_VE_DA_BAN, TONG_DOANH_THU, SO_GHE_CON_TRONG) VALUES ('LT001', 1, 500000, 33);
INSERT INTO THONGKE (MA_LICH_TRINH, SO_VE_DA_BAN, TONG_DOANH_THU, SO_GHE_CON_TRONG) VALUES('LT002', 1, 300000, 19);
INSERT INTO THONGKE (MA_LICH_TRINH, SO_VE_DA_BAN, TONG_DOANH_THU, SO_GHE_CON_TRONG) VALUES('LT003', 1, 400000, 33);









